use super::*;


pub fn mix_columns(sks: &ServerKey, x: &mut [Ciphertext]) {
    
    let t0 = sks.unchecked_add(&x[0], &x[8]);
    let t1 = sks.unchecked_add(&x[16], &x[24]);
    let t2 = sks.unchecked_add(&x[1], &x[9]);
    let t3 = sks.unchecked_add(&x[17], &x[25]);
    let t4 = sks.unchecked_add(&x[2], &x[10]);
    let t5 = sks.unchecked_add(&x[18], &x[26]);
    let t6 = sks.unchecked_add(&x[3], &x[11]);
    let t7 = sks.unchecked_add(&x[19], &x[27]);
    let t8 = sks.unchecked_add(&x[4], &x[12]);
    let t9 = sks.unchecked_add(&x[20], &x[28]);
    let t10 = sks.unchecked_add(&x[5], &x[13]);
    let t11 = sks.unchecked_add(&x[21], &x[29]);
    let t12 = sks.unchecked_add(&x[6], &x[14]);
    let t13 = sks.unchecked_add(&x[22], &x[30]);
    let t14 = sks.unchecked_add(&x[23], &x[31]);
    let t15 = sks.unchecked_add(&x[7], &x[15]);
    let t16 = sks.unchecked_add(&x[8], &t1);
    let y0 = sks.unchecked_add(&t15, &t16);
    let t17 = sks.unchecked_add(&x[7], &x[23]);
    let t18 = sks.unchecked_add(&x[24], &t0);
    let y16 = sks.unchecked_add(&t14, &t18);
    let t19 = sks.unchecked_add(&t1, &y16);
    let y24 = sks.unchecked_add(&t17, &t19);
    let t20 = sks.unchecked_add(&x[27], &t14);
    let t21 = sks.unchecked_add(&t0, &y0);
    let y8 = sks.unchecked_add(&t17, &t21);
    let t22 = sks.unchecked_add(&t5, &t20);
    let y19 = sks.unchecked_add(&t6, &t22);
    let t23 = sks.unchecked_add(&x[11], &t15);
    let t24 = sks.unchecked_add(&t7, &t23);
    let y3 = sks.unchecked_add(&t4, &t24);
    let t25 = sks.unchecked_add(&x[2], &x[18]);
    let t26 = sks.unchecked_add(&t17, &t25);
    let t27 = sks.unchecked_add(&t9, &t23);
    let t28 = sks.unchecked_add(&t8, &t20);
    let t29 = sks.unchecked_add(&x[10], &t2);
    let y2 = sks.unchecked_add(&t5, &t29);
    let t30 = sks.unchecked_add(&x[26], &t3);
    let y18 = sks.unchecked_add(&t4, &t30);
    let t31 = sks.unchecked_add(&x[9], &x[25]);
    let t32 = sks.unchecked_add(&t25, &t31);
    let y10 = sks.unchecked_add(&t30, &t32);
    let y26 = sks.unchecked_add(&t29, &t32);
    let t33 = sks.unchecked_add(&x[1], &t18);
    let t34 = sks.unchecked_add(&x[30], &t11);
    let y22 = sks.unchecked_add(&t12, &t34);
    let t35 = sks.unchecked_add(&x[14], &t13);
    let y6 = sks.unchecked_add(&t10, &t35);
    let t36 = sks.unchecked_add(&x[5], &x[21]);
    let t37 = sks.unchecked_add(&x[30], &t17);
    let t38 = sks.unchecked_add(&x[17], &t16);
    let t39 = sks.unchecked_add(&x[13], &t8);
    let y5 = sks.unchecked_add(&t11, &t39);
    let t40 = sks.unchecked_add(&x[12], &t36);
    let t41 = sks.unchecked_add(&x[29], &t9);
    let y21 = sks.unchecked_add(&t10, &t41);
    let t42 = sks.unchecked_add(&x[28], &t40);
    let y13 = sks.unchecked_add(&t41, &t42);
    let y29 = sks.unchecked_add(&t39, &t42);
    let t43 = sks.unchecked_add(&x[15], &t12);
    let y7 = sks.unchecked_add(&t14, &t43);
    let t44 = sks.unchecked_add(&x[14], &t37);
    let y31 = sks.unchecked_add(&t43, &t44);
    let t45 = sks.unchecked_add(&x[31], &t13);
    let y15 = sks.unchecked_add(&t44, &t45);
    let y23 = sks.unchecked_add(&t15, &t45);
    let t46 = sks.unchecked_add(&t12, &t36);
    let y14 = sks.unchecked_add(&y6, &t46);
    let t47 = sks.unchecked_add(&t31, &t33);
    let y17 = sks.unchecked_add(&t19, &t47);
    let t48 = sks.unchecked_add(&t6, &y3);
    let y11 = sks.unchecked_add(&t26, &t48);
    let t49 = sks.unchecked_add(&t2, &t38);
    let y25 = sks.unchecked_add(&y24, &t49);
    let t50 = sks.unchecked_add(&t7, &y19);
    let y27 = sks.unchecked_add(&t26, &t50);
    let t51 = sks.unchecked_add(&x[22], &t46);
    let y30 = sks.unchecked_add(&t11, &t51);
    let t52 = sks.unchecked_add(&x[19], &t28);
    let y20 = sks.unchecked_add(&x[28], &t52);
    let t53 = sks.unchecked_add(&x[3], &t27);
    let y4 = sks.unchecked_add(&x[12], &t53);
    let t54 = sks.unchecked_add(&t3, &t33);
    let y9 = sks.unchecked_add(&y8, &t54);
    let t55 = sks.unchecked_add(&t21, &t31);
    let y1 = sks.unchecked_add(&t38, &t55);
    let t56 = sks.unchecked_add(&x[4], &t17);
    let t57 = sks.unchecked_add(&x[19], &t56);
    let y12 = sks.unchecked_add(&t27, &t57);
    let t58 = sks.unchecked_add(&x[3], &t28);
    let t59 = sks.unchecked_add(&t17, &t58);
    let y28 = sks.unchecked_add(&x[20], &t59);

    x[0] = y0;
    x[1] = y1;
    x[2] = y2;
    x[3] = y3;
    x[4] = y4;
    x[5] = y5;
    x[6] = y6;
    x[7] = y7;
    x[8] = y8;
    x[9] = y9;
    x[10] = y10;
    x[11] = y11;
    x[12] = y12;
    x[13] = y13;
    x[14] = y14;
    x[15] = y15;
    x[16] = y16;
    x[17] = y17;
    x[18] = y18;
    x[19] = y19;
    x[20] = y20;
    x[21] = y21;
    x[22] = y22;
    x[23] = y23;
    x[24] = y24;
    x[25] = y25;
    x[26] = y26;
    x[27] = y27;
    x[28] = y28;
    x[29] = y29;
    x[30] = y30;
    x[31] = y31;
}
